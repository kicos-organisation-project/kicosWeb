<!-- Contenu livreurs -->
<div class="card border-0 p-4">
    <!-- Titre, recherche et ajout  -->
    <div class="d-flex justify-content-between mb-3">
        <h5 class="fw-bold">Liste des Clients |</h5>
        <div class="search-and d-flex justify-content-between">
            <!-- Input de recherche  -->
            <div class="me-3">
                <div class="srch">
                    <input type="text" [(ngModel)]="searchText" (input)="onSearch()" placeholder="Recherche ...">
                </div>
            </div>
        </div>
    </div>


    @if (isLoading) {
    <!-- Skeleton pendant le chargement -->
    <div class="row ">
        <!-- Skeleton pour le titre -->
        <p-skeleton width="100%" height="1.5rem" class="mb-2"></p-skeleton><br>
        <!-- Skeleton pour la description -->
        <p-skeleton width="100%" height="0.6rem" class="mb-2 mt-2"></p-skeleton>
        <p-skeleton width="100%" height="0.6rem" class="mb-2 mt-2"></p-skeleton>
        <p-skeleton width="100%" height="0.6rem" class="mb-2 mt-2"></p-skeleton>
        <p-skeleton width="100%" height="0.6rem" class="mb-2 mt-2"></p-skeleton>
    </div>

    } @else {
    <!-- Liste des livreurs  -->
    @if (ListeLivreur.length) {
    <p-table [value]="ListeLivreur" [paginator]="true" [rows]="5" [tableStyle]="{ 'min-width': '50rem'}"
        [styleClass]="'paginationTacheCustom'" [rowsPerPageOptions]="[5, 7, 10]">
        <ng-template pTemplate="header">
            <tr class="text-center py-2">
                <th class="">#</th>
                <th class="">Nom Complet </th>
                <th class="">Téléphone</th>
                <th class="">Email</th>
                <th class="">Adresse</th>
                <th class="">Action</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-livreur let-index="rowIndex" class="">
            <tr class="py-4">
                <td class="text-center text-xs px-3 tdimg" style="width: 10%;">{{index + 1}}</td>
                <td class="text-center text-xs px-3" style="width: 20%;">{{ livreur.user.firstName}} {{
                    livreur.user.lastName}}</td>
                <td class="text-center text-xs" style="width: 15%;">{{ livreur.user.phoneNumber}}</td>
                <td class="text-center text-xs" style="width: 15%;">{{ livreur.user.email}}</td>
                <td class="text-center text-xs" style="width: 20%;">{{ livreur.address}}</td>
                <td class="text-center text-xs" style="width: 15%;">
                    <i class="pi pi-eye" (click)="showClients(livreur.id);showDialogDetailLivreur()" ></i>
                </td>
            </tr>
        </ng-template>
    </p-table>
    }
    @else {
    <p class="text-center fs-5 fw-bold">Aucun clients enregistré pour le moment </p>
    }
    }
</div>

<!--Modal details livreur -->
<p-dialog [modal]="true" [(visible)]="visibleDetailLivreur"
  [style]="{ width: '60rem', height:'30rem', backgroundColor: '#F8F9FD'}" header="Détail client">
  <div id="details">
    <div class="image">
      <img src="https://img.freepik.com/vecteurs-premium/vie-quotidienne-caissier-client-achetant-produits-epicerie_132971-503.jpg" class="card-img-top" alt="..." />
    </div>
    <div>
      <h4>{{detailLivreur?.nom_partenaire}}</h4>
      <p>
        {{detailLivreur?.description}}
      </p>

      <div class="d-flex">
        <h6 class="mb-3">Nom Complet : </h6>
        <span>&nbsp;{{detailLivreur?.user.firstName}} {{detailLivreur?.user.lastName}}</span>
      </div>
      <div class="d-flex">
        <h6 class="mb-3">Email : </h6>
        <span>&nbsp;{{detailLivreur?.user.email}}</span>
      </div>
      <div class="d-flex">
        <h6 class="mb-3">Adresse: </h6>
        <span>&nbsp;{{detailLivreur?.client.address}}</span>
      </div>
      <div class="d-flex">
        <h6 class="mb-3">Téléphone : </h6>
        <span>&nbsp;{{detailLivreur?.user.phoneNumber}}</span>
      </div>
      <div class="d-flex">
        <h6 class="mb-3">Etat : </h6>
        <span>&nbsp;{{ detailLivreur?.validate == 1 ? 'client disponible' : 'client non disponible' }}</span>
      </div>
    </div>
  </div>


</p-dialog>