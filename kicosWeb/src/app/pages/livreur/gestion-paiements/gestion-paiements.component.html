<div class="title mb-4 mt-5">
    <h3>Demande de paiment</h3>
</div>

<div id="avis">
    <form class="promo-form" novalidate [formGroup]="demandeForm" #ngForm="ngForm" (ngSubmit)="addDemandePaiement()">
        <div class="form-grid">
            <div class="form-group mb-3">
                <label for="amount">Montant</label>
                <input type="number" id="amount" class="form-control" formControlName="amount">
            </div>

            <div class="form-group mb-3">
                <label for="note">Motif</label>
                <textarea n id="note" class="form-control" formControlName="note"></textarea>
            </div>

            <div class="form-group mb-3">
                <button type="submit" class="btn btnSave">Sauvegarder</button>
            </div>
        </div>
    </form>
    <div class="promo-list">
        <p-table [value]="demandesPaiement" [paginator]="true" [rows]="2" [tableStyle]="{ 'min-width': '50rem'}"
            [styleClass]="'paginationTacheCustom'" [rowsPerPageOptions]="[2, 4, 6]">
            <ng-template pTemplate="header">
                <tr class="text-center py-2">
                    <th class="">#</th>
                    <th class="">Motant </th>
                    <th class="">Motif </th>
                    <th class="">etat</th>
                    <th class="">Action</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-demande let-index="rowIndex" class="">
                <tr class="py-4">
                    <td class="text-center text-xs px-3 tdimg" style="width: 10%;">{{index + 1}}</td>
                    <td class="text-center text-xs px-3" style="width: 20%;">{{ demande.motant}}</td>
                    <td class="text-center text-xs px-3" style="width: 20%;">
                        <div class="truncate"
                            style="max-width: 100%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"
                            :title="demande.motif">
                            {{ demande.motif.length > 30 ? demande.motif.substring(0, 30) + '...' : demande.motif }}
                        </div>
                    </td>
                    <td class="text-center text-xs" style="width: 15%;">{{ demande.status}}</td>
                    <td class="text-center text-xs" style="width: 15%;"> <i class="pi pi-eye"></i> </td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>